"""
í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ë§¤í•‘
=======================

í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ 6ê°œ ì¹´í…Œê³ ë¦¬:
1. ì‹ë£Œí’ˆ (32.6%) - ë§ˆíŠ¸, í¸ì˜ì 
2. ì£¼ìœ  (25.2%) - ì£¼ìœ ì†Œ
3. êµí†µ (20.9%) - í†¨ê²Œì´íŠ¸, ëŒ€ì¤‘êµí†µ
4. ìƒí™œ (8.9%) - ìƒí™œìš©í’ˆ, ì•½êµ­
5. ì™¸ì‹ (6.7%) - ìŒì‹ì , ì¹´í˜
6. ì‡¼í•‘ (5.7%) - ë°±í™”ì , ì˜¨ë¼ì¸

â€» 'ê¸°íƒ€' ì¹´í…Œê³ ë¦¬ëŠ” ì œì™¸ (50%+ ë¶ˆê· í˜• + ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ ì—†ìŒ)
"""

# ============================================================================
# í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ì¸ 6ê°œ ì¹´í…Œê³ ë¦¬
# ============================================================================
CATEGORIES = ['ì‹ë£Œí’ˆ', 'ì£¼ìœ ', 'êµí†µ', 'ìƒí™œ', 'ì™¸ì‹', 'ì‡¼í•‘']

# ì¹´í…Œê³ ë¦¬ ì •ë³´ (20ë§Œ ë°ì´í„°ì…‹ ê¸°ì¤€ - ExtraTrees í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§ ë²„ì „)
CATEGORY_INFO = {
    'ì‹ë£Œí’ˆ': {
        'ratio': 32.6,
        'description': 'ë§ˆíŠ¸, í¸ì˜ì , ìŠˆí¼ë§ˆì¼“',
        'pattern': 'ë§¤ì¼/ë§¤ì£¼ ë°˜ë³µ, ì£¼ë§ ì§‘ì¤‘',
        'f1_score': 68,
        'marketing': 'ì‹ë£Œí’ˆ í• ì¸ ì¿ í°, ë§ˆíŠ¸ í¬ì¸íŠ¸ ì ë¦½'
    },
    'ì£¼ìœ ': {
        'ratio': 25.2,
        'description': 'ì£¼ìœ ì†Œ, ì¶©ì „ì†Œ',
        'pattern': 'ì£¼ 1-2íšŒ ì •ê¸°ì ',
        'f1_score': 73,
        'marketing': 'ì£¼ìœ  í• ì¸, ì„¸ì°¨ ì¿ í°'
    },
    'êµí†µ': {
        'ratio': 20.9,
        'description': 'í†¨ê²Œì´íŠ¸, ëŒ€ì¤‘êµí†µ, íƒì‹œ',
        'pattern': 'ì¶œí‡´ê·¼/ì´ë™ ì‹œ ë°œìƒ',
        'f1_score': 76,
        'marketing': 'êµí†µë¹„ í• ì¸, í•˜ì´íŒ¨ìŠ¤ ì—°ê³„'
    },
    'ìƒí™œ': {
        'ratio': 8.9,
        'description': 'ìƒí™œìš©í’ˆ, ì•½êµ­, ë“œëŸ­ìŠ¤í† ì–´',
        'pattern': 'í•„ìš”ì‹œ ë¹„ì •ê¸°ì ',
        'f1_score': 45,
        'marketing': 'ìƒí™œìš©í’ˆ í• ì¸, ê±´ê°•ì‹í’ˆ ì¿ í°'
    },
    'ì™¸ì‹': {
        'ratio': 6.7,
        'description': 'ìŒì‹ì , ì¹´í˜, íŒ¨ìŠ¤íŠ¸í‘¸ë“œ',
        'pattern': 'ì£¼ë§/ì €ë… ì§‘ì¤‘, ë¹„ì •ê¸°ì ',
        'f1_score': 39,
        'marketing': 'ì™¸ì‹ í• ì¸, ë°°ë‹¬ì•± ì¿ í°'
    },
    'ì‡¼í•‘': {
        'ratio': 5.7,
        'description': 'ë°±í™”ì , ì˜¨ë¼ì¸ì‡¼í•‘, ì˜ë¥˜',
        'pattern': 'ì›”ì´ˆ/ì£¼ë§ ì§‘ì¤‘, ë¹„ì •ê¸°ì ',
        'f1_score': 28,
        'marketing': 'ì‡¼í•‘ í• ì¸, ì ë¦½ê¸ˆ ì´ë²¤íŠ¸'
    }
}

# ============================================================================
# ì˜ˆì¸¡ ë‚œì´ë„ë³„ ë¶„ë¥˜
# ============================================================================
PREDICTION_DIFFICULTY = {
    'ì‰¬ì›€': {
        'categories': ['êµí†µ', 'ì£¼ìœ ', 'ì‹ë£Œí’ˆ'],
        'f1_range': '68-76%',
        'reason': 'ì •ê¸°ì /ë°˜ë³µì  íŒ¨í„´, ë°ì´í„° ë¹„ìœ¨ ë†’ìŒ'
    },
    'ì–´ë ¤ì›€': {
        'categories': ['ìƒí™œ', 'ì™¸ì‹', 'ì‡¼í•‘'],
        'f1_range': '28-45%',
        'reason': 'ë¹„ì •ê¸°ì  íŒ¨í„´, ë°ì´í„° ë¹„ìœ¨ ë‚®ìŒ'
    }
}

# ============================================================================
# ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œë‚˜ë¦¬ì˜¤ (í˜„ì¬ ê²°ì œ â†’ ë‹¤ìŒ ì˜ˆì¸¡ â†’ ì¿ í°)
# ============================================================================
BUSINESS_SCENARIOS = [
    {
        'current': 'ì£¼ìœ ',
        'predicted_next': 'ì‹ë£Œí’ˆ',
        'confidence': 'HIGH',
        'action': 'í¸ì˜ì /ë§ˆíŠ¸ ì¿ í° ì¦‰ì‹œ ë°œí–‰',
        'reason': 'ì£¼ìœ  í›„ í¸ì˜ì  ë°©ë¬¸ íŒ¨í„´'
    },
    {
        'current': 'êµí†µ',
        'predicted_next': 'ì£¼ìœ ',
        'confidence': 'HIGH',
        'action': 'ì¸ê·¼ ì£¼ìœ ì†Œ í• ì¸ ì•Œë¦¼',
        'reason': 'í†¨ê²Œì´íŠ¸ í›„ ì£¼ìœ  íŒ¨í„´'
    },
    {
        'current': 'ì‹ë£Œí’ˆ',
        'predicted_next': 'ì£¼ìœ ',
        'confidence': 'MEDIUM',
        'action': 'ì£¼ìœ  í• ì¸ ì¿ í° ë°œí–‰',
        'reason': 'ë§ˆíŠ¸ í›„ ì£¼ìœ  íŒ¨í„´'
    },
    {
        'current': 'ì™¸ì‹',
        'predicted_next': 'ì‡¼í•‘',
        'confidence': 'LOW',
        'action': 'ì¸ê·¼ ì‡¼í•‘ëª° í• ì¸ ì•Œë¦¼',
        'reason': 'ì™¸ì‹ í›„ ì‡¼í•‘ íŒ¨í„´ (ì£¼ë§)'
    }
]

# ============================================================================
# í”¼ì²˜ ì •ë³´
# ============================================================================
FEATURES = {
    'numeric': {
        'Hour': 'ê±°ë˜ ì‹œê°„ (0-23)',
        'DayOfWeek': 'ìš”ì¼ (0=ì›”ìš”ì¼, 6=ì¼ìš”ì¼)',
        'Amount_Clean': 'ê²°ì œ ê¸ˆì•¡ (ë‹¬ëŸ¬)',
        'TimeSincePrev': 'ì´ì „ ê±°ë˜ í›„ ê²½ê³¼ ì‹œê°„ (ë¶„)'
    },
    'categorical': {
        'Category': 'í˜„ì¬ ê±°ë˜ ì¹´í…Œê³ ë¦¬ (6ê°œ ì¤‘ 1ê°œ)',
        'TimeSlot': 'ì‹œê°„ëŒ€ (ì˜¤ì „/ì˜¤í›„/ì €ë…/ì‹¬ì•¼)'
    }
}

# íƒ€ê²Ÿ ì •ë³´
TARGET = {
    'name': 'NextCategory',
    'description': 'ë‹¤ìŒ ê±°ë˜ ì¹´í…Œê³ ë¦¬ (ê°™ì€ ë‚  ë‚´)',
    'classes': 6,
    'creation': "df['Category'].shift(-1) + ê°™ì€ ë‚  í•„í„°ë§"
}

# ============================================================================
# ëª¨ë¸ ì •ë³´
# ============================================================================
BEST_MODEL = {
    'name': 'ExtraTrees',
    'accuracy': 63.09,
    'macro_f1': 54.86,
    'train_time': 16,
    'features': 21,
    'params': {
        'n_estimators': 200,
        'max_depth': 15,
        'class_weight': 'balanced',
        'n_jobs': -1,
        'random_state': 42
    }
}

# ============================================================================
# í—¬í¼ í•¨ìˆ˜
# ============================================================================
def get_category_info(category):
    """ì¹´í…Œê³ ë¦¬ ì •ë³´ ë°˜í™˜"""
    return CATEGORY_INFO.get(category, None)

def get_marketing_action(current_category, predicted_category):
    """í˜„ì¬â†’ì˜ˆì¸¡ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë§ˆì¼€íŒ… ì•¡ì…˜ ë°˜í™˜"""
    for scenario in BUSINESS_SCENARIOS:
        if scenario['current'] == current_category and scenario['predicted_next'] == predicted_category:
            return scenario
    return {'action': 'ì¼ë°˜ ì¿ í° ë°œí–‰', 'confidence': 'LOW'}

def print_summary():
    """í”„ë¡œì íŠ¸ ìš”ì•½ ì¶œë ¥"""
    print("=" * 60)
    print("ğŸ¯ ì†Œë¹„ íŒ¨í„´ â†’ ë‹¤ìŒ ì†Œë¹„ ì˜ˆì¸¡ í”„ë¡œì íŠ¸")
    print("=" * 60)
    
    print("\nğŸ“Š ì¹´í…Œê³ ë¦¬ (6ê°œ):")
    for cat, info in CATEGORY_INFO.items():
        print(f"  {cat:6s}: {info['ratio']:5.1f}% | F1: {info['f1_score']:2d}% | {info['description']}")
    
    print(f"\nğŸ† ìµœê³  ëª¨ë¸: {BEST_MODEL['name']}")
    print(f"   - Macro F1: {BEST_MODEL['macro_f1']}%")
    print(f"   - Accuracy: {BEST_MODEL['accuracy']}%")
    
    print("\nğŸ’¡ ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œë‚˜ë¦¬ì˜¤:")
    for s in BUSINESS_SCENARIOS[:3]:
        print(f"  {s['current']} â†’ {s['predicted_next']}: {s['action']}")


if __name__ == '__main__':
    print_summary()
